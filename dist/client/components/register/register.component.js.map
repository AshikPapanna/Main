{"version":3,"sources":["components/register/register.component.ts"],"names":[],"mappings":"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","file":"register.component.js","sourcesContent":["import { Component, OnInit, OnChanges, SimpleChanges,AfterViewInit } from '@angular/core'\r\n\r\nimport {Register} from '../../../models/registration'\r\n\r\nimport{RegisterService} from './register.service'\r\nimport {Location} from '@angular/common';\r\n\r\nimport {CountryList} from '../../constants/countries'\r\n\r\nimport {Router} from '@angular/router'\r\nimport 'materialize-css';\r\n\r\nimport {FormBuilder,FormGroup,Validators,FormControl,AbstractControl} from '@angular/forms'\r\ndeclare var $: any\r\n@Component({\r\n    moduleId:module.id,\r\n    selector:'my-register',\r\n    templateUrl:'./register.component.html',\r\n    styleUrls:['./register.component.css'],\r\n    providers:[RegisterService]\r\n})\r\nexport class RegisterComponent implements AfterViewInit {\r\n    countrylist:any;\r\n    agelist:Array<Number>[]=[];\r\n    ngAfterViewInit(): void {\r\n         jQuery(document).ready(function() {\r\n   // jQuery('select').material_select();\r\n  });\r\n    }\r\n    registerform: FormGroup;\r\n    constructor(private registerService:RegisterService,private formbuilder:FormBuilder\r\n    ,private router:Router,private location:Location){\r\n        this.createform();\r\n        var i;\r\n        this.countrylist=CountryList;\r\n        for(i=6;i<=40;i++){\r\n             this.agelist.push(i);\r\n        }\r\n    } \r\n    createform(){\r\n        this.registerform=this.formbuilder.group(\r\n            {\r\n                firstname :['',[Validators.required,Validators.minLength(4),Validators.maxLength(12)]],\r\n                 lastname :['',[Validators.required,Validators.minLength(2),Validators.maxLength(12)]],\r\n                 email:['',[Validators.required]],\r\n                 username:['',[Validators.required,Validators.minLength(4),Validators.maxLength(8)]],\r\n                 gender:'M',\r\n                 age:['6',[Validators.max(60),Validators.min(3)]],\r\n                 country:['India',[Validators.required]]         \r\n               \r\n            }\r\n        )\r\n    }\r\n    isvalidfield(field:string){\r\n    \r\n      return  this.registerform.get(field).invalid &&  this.registerform.get(field).touched;\r\n    }\r\n    validatefirstname(firstname:string):boolean{\r\n            if( firstname.length<4||firstname.length>20)\r\n                {\r\n                   this.firstNamevalidateclass='invalid';\r\n                    return false;\r\n                }\r\n                else{\r\n                   \r\n                    this.firstNamevalidateclass='valid';\r\n                    return true;\r\n                }\r\n        }\r\n    validateuniqueemail(email:AbstractControl){\r\n\r\n    }\r\n\r\n    firstNamevalidateclass:string='';\r\n    confirmpasswordclass:string='';\r\n    passwordclass:string='';  \r\n    lastnameclass:string='';\r\n    emailvalidateclass:string='';\r\n    IsSuccess:boolean=false;\r\n   register=new Register('','','','','','','','');\r\n\r\n\r\nvalidatelastname(lastname:string):boolean{\r\n    if( lastname.length<2||lastname.length>20)\r\n                {\r\n                 \r\n                    this.lastnameclass='invalid';\r\n                    return false;\r\n                }\r\n                else{\r\n                   \r\n                    this.lastnameclass='valid';\r\n                    return true;\r\n                }\r\n}\r\n Validatepasswordlength(password:string):boolean\r\n {\r\n      if( password.length<8||password.length>20)\r\n                {\r\n                 \r\n                    this.passwordclass='invalid';\r\n                    return false;\r\n                }\r\n                else{\r\n                   \r\n                    this.passwordclass='valid';\r\n                    return true;\r\n                }\r\n }\r\n   onSubmit(){\r\nif(!(this.validatefirstname(this.register.firstname)\r\n&&  this.Validatepasswordlength(this.register.password)\r\n\r\n&& this.validatelastname(this.register.lastname)&& this.validateemail(this.register.email)) )\r\n{\r\n      console.log('right');   \r\n    return false; \r\n  \r\n}\r\nconsole.log('wrong');\r\n         this.registerService.register(this.register).subscribe(\r\n            user=>\r\n            {\r\n              this.IsSuccess=true;\r\n              console.log(user);\r\n              localStorage.setItem('username',JSON.stringify({username:user.firstname}));\r\n              window.location.replace(location.protocol+'//'+location.hostname+(location.port ? ':'+location.port: ''));\r\n\r\n             },\r\n            err=>{\r\n             \r\n             if(err._body&& JSON.parse(err._body).message&& JSON.parse(err._body).message.email ){\r\n                this.emailvalidateclass='invalid';    \r\n                this.IsSuccess=false;            \r\n             }\r\n                \r\n               \r\n            }   \r\n         )\r\n   };\r\n       \r\n        validateemail(email:string):boolean{\r\n            if(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\r\n                this.emailvalidateclass='valid'\r\n                return true;\r\n            }\r\n        else{\r\n            this.emailvalidateclass='invalid'\r\n            return false;\r\n        }\r\n        }\r\n}"]}