{"version":3,"sources":["components/register/register.component.ts"],"names":[],"mappings":"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","file":"register.component.js","sourcesContent":["import { Component, OnInit, OnChanges, SimpleChanges,AfterViewInit } from '@angular/core'\r\n\r\nimport {Register} from '../../../models/registration'\r\n\r\nimport{RegisterService} from './register.service'\r\nimport {Location} from '@angular/common';\r\n\r\nimport {CountryList} from '../../constants/countries'\r\n\r\nimport {Router} from '@angular/router'\r\nimport 'materialize-css';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/map';\r\n\r\nimport {FormBuilder,FormGroup,Validators,FormControl,AbstractControl,AsyncValidatorFn} from '@angular/forms'\r\n\r\n@Component({\r\n    moduleId:module.id,\r\n    selector:'my-register',\r\n    templateUrl:'./register.component.html',\r\n    styleUrls:['./register.component.css'],\r\n    providers:[RegisterService]\r\n})\r\nexport class RegisterComponent  {\r\n    countrylist:any;\r\n    agelist:Array<Number>[]=[]; \r\n         \r\n    registerform: FormGroup;\r\n    constructor(private registerService:RegisterService,private formbuilder:FormBuilder\r\n    ,private router:Router,private location:Location){\r\n        this.createform();\r\n        var i;\r\n        this.countrylist=CountryList;\r\n        for(i=6;i<=40;i++){\r\n             this.agelist.push(i);\r\n        }\r\n    } \r\n    createform(){\r\n        this.registerform=this.formbuilder.group(\r\n            {\r\n                firstname :['',[Validators.required,Validators.minLength(4),Validators.maxLength(12)]],\r\n                 lastname :['',[Validators.required,Validators.minLength(2),Validators.maxLength(12)]],\r\n                 email:['',[Validators.required,Validators.email],this.checkisemailunique.bind(this)],\r\n                 username:['',[Validators.required,Validators.minLength(4),Validators.maxLength(8)]],\r\n                 gender:'M',\r\n                 age:['6',[Validators.max(60),Validators.min(6)]],\r\n                 country:['India',[Validators.required]]         \r\n               \r\n            }\r\n        )\r\n    }\r\n      checkisemailunique(control: AbstractControl) {                        \r\n                return this.registerService.checkisemailunique({email:control.value})\r\n                .map(\r\n                    data => \r\n                    { if(data)\r\n                        {\r\n                       if(data.message===\"failed\")\r\n                        {\r\n                            return  {\"emailtaken\":true};\r\n                        }\r\n                        else{\r\n                            return null;\r\n                        }\r\n                        }\r\n                    }\r\n                   ,err=>{                         \r\n                         return {\"eeeror\":true}\r\n                   })\r\n                    \r\n                \r\n        };\r\n\r\n    isvalidfield(field:string){  \r\n      return  this.registerform.get(field).invalid &&  this.registerform.get(field).touched;\r\n    }\r\n   onSubmit(){ \r\n       \r\n     this.registerService.register(this.registerform.value).subscribe(\r\n         data=>{\r\n            this.registerform.reset();\r\n            this.router.navigate(['/registersuccessfull']);\r\n         },\r\n         err=>{\r\n              console.log(err);\r\n         }\r\n     )\r\n}\r\n}"]}